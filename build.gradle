
plugins {
  id 'java'
}

java {
  toolchain {
    languageVersion = JavaLanguageVersion.of(8)
    vendor = JvmVendorSpec.ADOPTIUM // Temurin
    implementation = JvmImplementation.VENDOR_SPECIFIC
  }
}

version = '0.0.1'

project.ext {
  pkg = 'jar'
}

jar {
  manifest {
    attributes 'Implementation-Title': 'grengine', 'Implementation-Version': version, 'provider': 'gradle'
  }
}

dependencies {
  implementation 'org.apache.groovy:groovy:4.0.24'
  implementation 'ch.grengine:grengine:3.1.0'

  testImplementation 'org.junit.jupiter:junit-jupiter-api:5.11.4'
  testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.11.4'
  testRuntimeOnly 'org.junit.platform:junit-platform-launcher:1.11.4'

  testImplementation 'org.hamcrest:hamcrest-library:3.0'
  testImplementation 'org.apache.ivy:ivy:2.5.3'
  testImplementation 'commons-io:commons-io:2.18.0'
}

repositories {
  mavenCentral()
}

tasks.withType(JavaCompile).configureEach {
  // treat warnings as errors
  options.compilerArgs << "-Xlint:all" << "-Werror"
}

test {
  testLogging.showStandardStreams = true
  useJUnitPlatform()
}
